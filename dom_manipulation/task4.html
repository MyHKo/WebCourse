<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<ul id="tree">
    <li>Рыбы
    <ul>
        <li>форель</li>
        <li>лосось</li>
    </ul>
    </li>
    <li>Деревья
    <ul><li>Огромные
        <ul><li>секвойя</li>
            <li>дуб</li></ul></li>
        <li>Цветковые<ul>
            <li>яблоня</li><li>магнолия
        </li>
        </ul>
        </li>
    </ul>
    </li>
</ul>
</body>
<script>
    let lis = document.getElementsByTagName('li');

    for (let li of lis) {
        let descendantsCount = li.getElementsByTagName('li').length;
        if (!descendantsCount) continue;

        li.firstChild.data += ' [' + descendantsCount + ']';
    }
</script>
</html>